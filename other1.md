你这个场景其实是 **类比式标签生成**：

* 一方面你已经有了**标签库C**，包括 L1（大类）、L2（中类）、L3（原子标签）。
* 另一方面你想让模型在输入语料 D 的情况下，模仿标签体系的“风格”生成新的原子标签（L3级别，不要带上高层标签）。
* 关键点是 **把已有标签三元组当作类比样例**，让模型学习“怎么从文本到标签”的映射逻辑。

我给你一个 Prompt 框架（可直接用于 Qwen3-ranker 或其他 LLM）：

---

### Prompt 模板（类比式标签生成）

```text
你是一个标签生成器，任务是基于文本内容，从给定的标签体系中学习如何生成新的原子标签。  
你将会看到一些示例类比，每个示例包含：  
- 输入文本 D  
- 已匹配的标签三元组 (L1, L2, L3)  

请仔细观察这些类比，理解标签体系的风格和粒度。  

【示例类比】  
文本: "公司年报显示净利润下降主要是因为原材料价格上涨"  
标签: (金融, 财务分析, 利润波动)  

文本: "某市出台新规限制楼市过热"  
标签: (社会, 政策, 房地产调控)  

---

【当前任务】  
现在给你新的输入文本 D 和对应的标签三元组 (L1, L2, L3)。  
请基于类比方法，模仿已有标签的表达风格和抽象层次，生成**新的原子标签**（只输出 L3 级别，不要包含 L1、L2）。  

要求：  
1. 新的原子标签应当和输入文本 D 的语义紧密相关。  
2. 标签的表达风格要和已有标签保持一致（简洁、抽象、名词化）。  
3. 每个输入文本可以生成 3~5 个新的原子标签。  

---

【输入文本 D】  
{{D}}  

【已有标签三元组】  
(L1={{L1}}, L2={{L2}}, L3={{L3}})  

【输出格式】  
仅输出新的原子标签列表（不带解释）。
```

---

### 使用方式

1. **训练模型风格**：在 prompt 前面提供 3-5 个“文本—三元组”类比样例，让模型学到标签粒度。
2. **任务部分**：输入新的 D 和三元组 (L1,L2,L3)。
3. **输出控制**：要求只输出 L3 级别标签（防止模型跑偏到 L1/L2）。

---

比如输入：

```
【输入文本 D】  
"苹果公司计划发布搭载新芯片的iPhone，市场反应积极"  

【已有标签三元组】  
(L1=科技, L2=消费电子, L3=手机新品发布)
```

模型可能输出：

```
芯片升级  
市场预期  
产品迭代  
供应链影响
```

---

要不要我帮你把这个 Prompt 改写成 **支持批量输入语料 D + 多个三元组** 的版本，这样一次可以生成多条新标签？
